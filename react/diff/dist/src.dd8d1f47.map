{"version":3,"sources":["src/react/create-element.js","src/react-dom/dom.js","src/react-dom/diff.js","src/react/component.js","src/react/index.js","src/react-dom/render.js","src/react-dom/index.js","src/index.js"],"names":["createElement","tag","attrs","children","key","setAttribute","dom","name","value","test","toLowerCase","console","log","style","cssText","removeAttribute","diff","renderComponent","vnode","container","ret","diffNode","parentNode","appendChild","out","undefined","String","nodeType","textContent","document","createTextNode","replaceChild","diffComponent","isSameNodeType","childNodes","map","length","diffChildren","diffAttributes","vchildren","domChildren","keyed","i","child","keyedLen","push","min","childrenLen","vchild","j","c","f","nextSibling","removeNode","insertBefore","_component","oldDom","constructor","setComponentProps","base","unmountComponent","createComponent","component","props","componentWillMount","componentWillReceiveProps","renderer","render","componentWillUpdate","componentDidUpdate","componentDidMount","inst","prototype","Component","componentWillUnmount","nodeName","old","attributes","attr","removeChild","isReactComponent","state","stateChange","Object","assign","Counter","num","setState","onClick","React","ReactDOM","fontSize","fontWeight","getElementById"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AE3BD;;;;IAEMiE;AACJ,uBAAyB;AAAA,QAAZV,KAAY,uEAAJ,EAAI;;AAAA;;AACvB,SAAKiB,gBAAL,GAAwB,IAAxB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKlB,KAAL,GAAaA,KAAb;AACD;;;;6BAESmB,aAAa;AACrBC,aAAOC,MAAP,CAAc,KAAKH,KAAnB,EAA0BC,WAA1B;AACA;AACA,iCAAgB,IAAhB;AACD;;;;;;kBAGYT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"src.dd8d1f47.map","sourceRoot":"..","sourcesContent":["function createElement(tag, attrs, ...children) {\n  attrs = attrs || {};\n  return {\n    tag,\n    attrs,\n    children,\n    // ? key \n    key: attrs.key || null\n  }\n}\n\nexport default createElement;","export function setAttribute(dom, name, value) {\n  // console.log(name, value);\n  if (name === 'className') name = 'class';\n  // console.log(name, dom);\n  if (/on\\w+/.test(name)) {\n    name = name.toLowerCase();\n    dom[name] = value || '';\n  } else if ( name === 'style' ) {\n    console.log(typeof value)\n    if (!value || typeof value === 'string') {\n      dom.style.cssText = value || '';\n    } else if (value && typeof value === 'object') {\n      console.log(name, value);\n      for (let name in value) {\n        dom.style[name] = typeof value[name] === 'number'? value[name] + 'px': value[name];\n      }\n    }\n  } else {\n    if (name in dom) {\n      dom[name] = value || ''\n    }\n    if (value) {\n      dom.setAttribute(name, value);\n    } else {\n      dom.removeAttribute(name, value);\n    }\n  }\n}","import { Componet } from '../react'\nimport { setAttribute } from './dom'\n\n/**\n * @param {HTMLElement} dom 真实DOM\n * @param {vnode} vnode 虚拟DOM\n * @param {HTMLElement} container 容器\n * @returns {HTMLElement} 更新后的DOM\n */\nexport function diff( dom, vnode, container ) {\n\n    const ret = diffNode( dom, vnode );\n\n    if ( container && ret.parentNode !== container ) {\n        container.appendChild( ret );\n    }\n\n    return ret;\n\n}\n\nfunction diffNode( dom, vnode ) {\n\n    let out = dom;\n\n    if ( vnode === undefined || vnode === null || typeof vnode === 'boolean' ) vnode = '';\n\n    if ( typeof vnode === 'number' ) vnode = String( vnode );\n\n    // diff text node\n    if ( typeof vnode === 'string' ) {\n\n        // 如果当前的DOM就是文本节点，则直接更新内容\n        if ( dom && dom.nodeType === 3 ) {    // nodeType: https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType\n            if ( dom.textContent !== vnode ) {\n                dom.textContent = vnode;\n            }\n        // 如果DOM不是文本节点，则新建一个文本节点DOM，并移除掉原来的\n        } else {\n            out = document.createTextNode( vnode );\n            if ( dom && dom.parentNode ) {\n                dom.parentNode.replaceChild( out, dom );\n            }\n        }\n\n        return out;\n    }\n\n    if ( typeof vnode.tag === 'function' ) {\n        return diffComponent( dom, vnode );\n    }\n\n    //\n    if ( !dom || !isSameNodeType( dom, vnode ) ) {\n        out = document.createElement( vnode.tag );\n\n        if ( dom ) {\n            [ ...dom.childNodes ].map( out.appendChild );    // 将原来的子节点移到新节点下\n\n            if ( dom.parentNode ) {\n                dom.parentNode.replaceChild( out, dom );    // 移除掉原来的DOM对象\n            }\n        }\n    }\n\n    if ( vnode.children && vnode.children.length > 0 || ( out.childNodes && out.childNodes.length > 0 ) ) {\n        diffChildren( out, vnode.children );\n    }\n\n    diffAttributes( out, vnode );\n\n    return out;\n\n}\n\nfunction diffChildren( dom, vchildren ) {\n\n    const domChildren = dom.childNodes;\n    const children = [];\n\n    const keyed = {};\n\n    if ( domChildren.length > 0 ) {\n        for ( let i = 0; i < domChildren.length; i++ ) {\n            const child = domChildren[ i ];\n            const key = child.key;\n            if ( key ) {\n                keyedLen++;\n                keyed[ key ] = child;\n            } else {\n                children.push( child );\n            }\n        }\n    }\n\n    if ( vchildren && vchildren.length > 0 ) {\n\n        let min = 0;\n        let childrenLen = children.length;\n\n        for ( let i = 0; i < vchildren.length; i++ ) {\n\n            const vchild = vchildren[ i ];\n            \n            const key = vchild.key;\n            let child;\n\n            if ( key ) {\n\n                if ( keyed[ key ] ) {\n                    child = keyed[ key ];\n                    keyed[ key ] = undefined;\n                }\n\n            } else if ( min < childrenLen ) {\n\n                for ( let j = min; j < childrenLen; j++ ) {\n\n                    let c = children[ j ];\n\n                    if ( c && isSameNodeType( c, vchild ) ) {\n\n                        child = c;\n                        children[ j ] = undefined;\n\n                        if ( j === childrenLen - 1 ) childrenLen--;\n                        if ( j === min ) min++;\n                        break;\n\n                    }\n\n                }\n\n            }\n\n            child = diffNode( child, vchild );\n\n            const f = domChildren[ i ];\n            if ( child && child !== dom && child !== f ) {\n                if ( !f ) {\n                    dom.appendChild(child);\n                } else if ( child === f.nextSibling ) {\n                    removeNode( f );\n                } else {\n                    dom.insertBefore( child, f );\n                }\n            }\n\n        }\n    }\n\n}\n\nfunction diffComponent( dom, vnode ) {\n\n    let c = dom && dom._component;\n    let oldDom = dom;\n\n    // 如果组件类型没有变化，则重新set props\n    if ( c && c.constructor === vnode.tag ) {\n        setComponentProps( c, vnode.attrs );\n        dom = c.base;\n    // 如果组件类型变化，则移除掉原来组件，并渲染新的组件\n    } else {\n\n        if ( c ) {\n            unmountComponent( c );\n            oldDom = null;\n        }\n\n        c = createComponent( vnode.tag, vnode.attrs );\n\n        setComponentProps( c, vnode.attrs );\n        dom = c.base;\n\n        if ( oldDom && dom !== oldDom ) {\n            oldDom._component = null;\n            removeNode( oldDom );\n        }\n\n    }\n\n    return dom;\n\n}\n\nfunction setComponentProps( component, props ) {\n\n    if ( !component.base ) {\n        if ( component.componentWillMount ) component.componentWillMount();\n    } else if ( component.componentWillReceiveProps ) {\n        component.componentWillReceiveProps( props );\n    }\n\n    component.props = props;\n\n    renderComponent( component );\n\n}\n\nexport function renderComponent( component ) {\n\n    let base;\n\n    const renderer = component.render();\n\n    if ( component.base && component.componentWillUpdate ) {\n        component.componentWillUpdate();\n    }\n\n    base = diffNode( component.base, renderer );\n\n    component.base = base;\n    base._component = component;\n\n    if ( component.base ) {\n        if ( component.componentDidUpdate ) component.componentDidUpdate();\n    } else if ( component.componentDidMount ) {\n        component.componentDidMount();\n    }\n\n    component.base = base;\n    base._component = component;\n\n}\n\nfunction createComponent( component, props ) {\n\n    let inst;\n\n    if ( component.prototype && component.prototype.render ) {\n        inst = new component( props );\n    } else {\n        inst = new Component( props );\n        inst.constructor = component;\n        inst.render = function() {\n            return this.constructor( props );\n        }\n    }\n\n    return inst;\n\n}\n\nfunction unmountComponent( component ) {\n    if ( component.componentWillUnmount ) component.componentWillUnmount();\n    removeNode( component.base);\n}\n\nfunction isSameNodeType( dom, vnode ) {\n    if ( typeof vnode === 'string' || typeof vnode === 'number' ) {\n        return dom.nodeType === 3;\n    }\n\n    if ( typeof vnode.tag === 'string' ) {\n        return dom.nodeName.toLowerCase() === vnode.tag.toLowerCase();\n    }\n\n    return dom && dom._component && dom._component.constructor === vnode.tag;\n}\n\nfunction diffAttributes( dom, vnode ) {\n\n    const old = {};    // 当前DOM的属性\n    const attrs = vnode.attrs;     // 虚拟DOM的属性\n\n    for ( let i = 0 ; i < dom.attributes.length; i++ ) {\n        const attr = dom.attributes[ i ];\n        old[ attr.name ] = attr.value;\n    }\n\n    // 如果原来的属性不在新的属性当中，则将其移除掉（属性值设为undefined）\n    for ( let name in old ) {\n\n        if ( !( name in attrs ) ) {\n            setAttribute( dom, name, undefined );\n        }\n\n    }\n\n    // 更新新的属性值\n    for ( let name in attrs ) {\n\n        if ( old[ name ] !== attrs[ name ] ) {\n            setAttribute( dom, name, attrs[ name ] );\n        }\n\n    }\n\n}\n\nfunction removeNode( dom ) {\n    if ( dom && dom.parentNode ) {\n        dom.parentNode.removeChild( dom );\n    }\n}","import { renderComponent } from \"../react-dom/diff\";\n\nclass Component {\n  constructor (props = {}) {\n    this.isReactComponent = true;\n    this.state = {};\n    this.props = props;\n  }\n\n  setState (stateChange) {\n    Object.assign(this.state, stateChange);\n    // console.log(this.state);\n    renderComponent(this);\n  }\n}\n\nexport default Component;","import createElement from './create-element.js'\nimport Component from './component.js';\n\nexport default {\n  createElement,\n  Component\n}","import { diff } from './diff';\n\nfunction render(vnode, container, dom) {\n  return diff(dom, vnode, container);\n}\nexport default render;","import render from './render'\n\nexport default {\n  render\n}","import React from './react'\nimport ReactDOM from './react-dom'\n\nclass Counter extends React.Component {\n  constructor( props ) {\n    super(props);\n    this.state = {\n      num: 1\n    }\n  }\n\n  componentWillUpdate () {\n    console.log('will update')\n  }\n\n  componentDidMount () {\n    console.log('component did mount');\n  }\n\n  componentDidUpdate() {\n    console.log('did update');\n  }\n\n  componentWillMount () {\n    console.log('will mount');\n  }\n\n  onClick () {\n    this.setState({ num: this.state.num + 1 });\n  }\n\n  render () {\n    return (\n      <div>\n        <h1>count:{ this.state.num }</h1>\n        <button onClick={()=>this.onClick()}>add</button>\n      </div>\n    )\n  }\n}\n\nReactDOM.render(\n  <div>\n    hello\n    <span className='rt' onClick=\"console.log('zz')\" style={{fontSize: 20, fontWeight: 'bold'}}>world</span>\n    <Counter />\n  </div>,\n  document.getElementById('root')\n);"]}